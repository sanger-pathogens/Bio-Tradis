language: perl
addons:
  apt:
    packages:
    - zlib1g-dev
    - libgd-perl
    - libgd-dev
    - libncurses5-dev 
    - libncursesw5-dev
perl:
  - "5.18"
  - "5.22"
sudo: false
install:
  - "source ./install_dependencies.sh"
before_script:
  - cpanm --force Dist::Zilla::Plugin::Test::Compile
  - cpanm --quiet --notest Dist::Zilla::App::Command::cover
  - cpanm --quiet --notest --skip-satisfied Devel::Cover::Report::Codecov
script: "dzil test"
after_success:
  - dzil cover -test -report codecov
